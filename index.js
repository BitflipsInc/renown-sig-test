import ethers  from 'ethers';
import { verifyMessage } from '@ambire/signature-validator';

const provider = new ethers.providers.JsonRpcProvider('https://eth.llamarpc.com')

async function run() {
    // Replace `ethers.verifyMessage(message, signature) === signer` with this:
    const isValidSig = await verifyMessage({
        signer: '0x1A437D81Df33e321dc06DF64dC286B88C2e1F117',
        message: 'Hello Reown AppKit!',
        signature: '0x0000000000000000000000004e1dcf7ad4e460cfd30791ccc4f9c8a4f820ec67000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000001241688f0b90000000000000000000000007579011ab74c46090561ea277ba79d510c6c00ff0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000007a6733696a793000000000000000000000000000000000000000000000000000000000000000000000844fff40e118109a125b1ea0f08696b2968ed944d244d72a9f8c0b276f9ebacd97034045010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005500000000000000000000000000000000000000009492047e709e75b365d05a9802d687221372edbb375efaffc001d7afacdcb578177273e88881e4045b4549a5ee5fef8e1f414a8f12256f7a3324eef2f5a632f31f00000000000000000000006492649264926492649264926492649264926492649264926492649264926492',
        // this is needed so that smart contract signatures can be verified; this property can also be a viem PublicClient
        provider,
    })
    console.log('is the sig valid: ', isValidSig)
}
run().catch(e => console.error(e))